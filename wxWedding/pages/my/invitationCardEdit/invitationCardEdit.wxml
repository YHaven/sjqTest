
<!-- 选择主题 -->
<scroll-view class="wedding-photo" wx:if="{{navActive == 'topic'}}" scroll-y="true"  bindscroll="scroll" scroll-top="{{scrollTop}}">
  <view wx:for="{{topicArray}}" wx:for-item="photo" wx:for-index="photoIndex" wx:key="photo" class="photo-item {{selectTopic.id==photo.id?'data-item-top':''}}">
    <image src="{{photo.showImage}}" data-src="{{photo.showImage}}" data-index="{{photoIndex}}" mode='aspectFit'bindtap="selectTopic" ></image>
  <view class="price">{{photo.price == 0?'免费':'¥'+photo.price.toFixed(2)}}+积分{{photo.cprice}}</view>
  </view>
</scroll-view>

<!-- 编辑请柬 -->
<view wx:if="{{navActive == 'favor'}}" class="p-b150">
  <view class="first-img">
    <view class="img-show-box" wx:if="{{dataObj.surfaceImg}}">
      <image src="{{selectTopic.styleImage[4]}}" class="needle-img"></image>  
      <view class="music-box" style="background: rgba(255,255,255,0.3) url('{{selectTopic.styleImage[3]}}') no-repeat center 0;background-size:100% 100%;"></view>
       <image animation="{{animation}}" src="{{dataObj.surfaceImg}}" class="surface-img"></image> 
    </view>

    <view class="add-first-img" wx:if="{{!dataObj.surfaceImg}}" bindtap="setSurfaceImg">
      <icon class="iconfont icon-pic">封面</icon>
    </view>
  </view>

  <view class="invitation-band">
    <view class="invitation-title">
      <view>我们结婚了</view>
      <view>wedding<text></text>invitation</view>
    </view>
    <view class="invitation-font">我们将于：</view>
    <view class="invitation-font m-t50">公历
      <!-- <text class="invitation-font-i date">2017年11月11日（星期一）</text> -->
          <picker class="invitation-font-i date" mode="date" value="{{date}}" bindchange="bindDateChange">  
            <view class="picker">  
              {{dataObj.weddingDate}}({{dataObj.weekDate}})  
            </view>  
          </picker>  
    </view>
    <view class="invitation-font m-t20">农历
      <view class="invitation-font-i date" style='border:0px;'>{{dataObj.lunarDate}}</view>
    </view>
    <view class="invitation-font m-t50">举办结婚典礼！</view>
    <view class="invitation-font m-t50">时间
      <picker class="invitation-font-i" mode="time" value="{{dataObj.time}}" bindchange="bindTimeChange">  
            <view class="picker">  
              {{dataObj.timeStr}}
            </view>  
      </picker>  
    </view>
    <view class="invitation-font m-t20">席设
      <input class="invitation-font-i" value="{{dataObj.seatDesin}}" data-key='seatDesin' bindinput="bindInputChange"></input>
    </view>

    <view class="invitation-font m-t50">
      <textarea focus="{{false}}" data-key='welcomeCode' bindconfirm="bindInputChange" value="{{dataObj.welcomeCode}}"/>
    </view>
    <view class="invitation-font m-t50">新郎:<input class="invitation-font-i font-name" value="{{dataObj.groom}}" data-key='groom' bindinput="bindInputChange"></input>，新娘:<input class="invitation-font-i font-name" value="{{dataObj.bride}}" data-key='bride' bindinput="bindInputChange"></input></view>

    <image class="mail_bg" src="../../../images/mail_bg_1.jpg"></image>
  </view>
</view>
  
<!-- 相册 -->

<scroll-view class="wedding-photo" wx:if="{{navActive == 'pic'}}" scroll-y="true"  bindscroll="scroll" scroll-top="{{scrollTop}}">
  <image  mode='aspectFit' src="{{selectTopic.styleImage[0]}}" style="height:200rpx;"></image>
  <view class="photo-item" catchtap="choosePhotoImg">
    <icon type="String" class="iconfont icon-add"></icon>
  </view>
  <view wx:for="{{dataObj.photos}}" wx:for-item="photo" wx:for-index="photoIndex" wx:key="photo" class="photo-item">
    <icon class="iconfont icon-close" data-index="{{photoIndex}}" catchtap="removeImg"></icon>
    <image src="{{photo.savePath}}" data-src="{{photo.savePath}}" mode='aspectFit' bindtap="previewImage"></image>
  </view>
  
</scroll-view>


<!-- 联系电话 -->

<view class="contact-us" wx:if="{{navActive == 'phone'}}">
  <image src="{{selectTopic.styleImage[1]}}" mode='widthFix'></image>
  <view>
    <view class="contact-show">诚邀您的到来！</view>
    <view>
      <view class="invitation-font m-t50">
      新郎电话:<input type='number' maxlength="11" class="invitation-font-i" value="{{dataObj.groomPhone}}" data-key='groomPhone' bindinput="bindInputChange"></input>
      </view>
      <view class="invitation-font m-t50">
        新娘电话:<input type='number' maxlength="11"  class="invitation-font-i" value="{{dataObj.bridePhone}}" data-key='bridePhone' bindinput="bindInputChange"></input>
      </view>
    </view>
  </view>
  <image src="{{selectTopic.styleImage[2]}}" mode='widthFix' class="contact-bottom-bg"></image>
</view>


<!-- 联系地址 -->


<view class="address-location" wx:if="{{navActive == 'location'}}">
  <view>
    <view>新郎导航地址<input type='text' class="invitation-font-i" value="{{dataObj.groomGPSAddress}}" data-key='groomGPSAddress' bindconfirm="bindAddressChange"></input></view>
    <view class="m-t20">新郎详细地址<input type='text' class="invitation-font-i" value="{{dataObj.groomAddress}}" data-key='groomAddress' bindinput="bindInputChange"></input></view>
    <map class="address-map" longitude="{{dataObj.groomLng != ''?dataObj.groomLng : longitude}}" latitude="{{dataObj.groomLat != ''?dataObj.groomLat : latitude}}" scale="12" markers="{{groomMarkers.length>0?groomMarkers:markers}}" bindmarkertap="markerTap" show-location="{{true}}" ></map>

  </view>
   <view class="m-t50">
    <view>新娘导航地址<input type='text' class="invitation-font-i" value="{{dataObj.brideGPSAddress}}" data-key='brideGPSAddress' bindconfirm="bindAddressChange"></input></view>
    <view class="m-t20">新娘详细地址<input type='text' class="invitation-font-i" value="{{dataObj.brideAddress}}" data-key='brideAddress' bindinput="bindInputChange"></input></view>
    <map class="address-map" longitude="{{dataObj.brideLng != ''? dataObj.brideLng : longitude}}" latitude="{{dataObj.brideLat != ''?dataObj.brideLat :latitude}}" scale="12" markers="{{brideMarkers.length>0?brideMarkers:markers}}" bindmarkertap="markerTap" show-location="{{true}}" ></map>
  </view> 


  <view class="location-address">您的当前位置在：{{formatted_address}}</view>
  <view class="location-coord">坐标：经度({{latitude}}),纬度纬度({{longitude}})</view>
  <button class="location-refresh" type="primary" loading="{{loading}}" bindtap="getCity">重新定位</button>
</view> 

<view class="nav-block">
  <view class="nav-item createOrder {{checkPass?'':'disabled'}}" catchtap="saveDataInfo">
    <view class="nav-name">{{navActive == "location"?"发布":"下一步"}}</view>
  </view>
</view> 


<import src="../../../component/message/message.wxml"/>
<template is="message" data="{{message: message}}"/>